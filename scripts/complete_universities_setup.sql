-- Complete Universities Setup Script
-- This script sets up universities with all their majors
-- Run in this order:
-- 1. migrations/add_university_columns.sql (if not already run)
-- 2. scripts/add_majors.sql
-- 3. scripts/add_saudi_universities.sql
-- 4. scripts/link_universities_to_majors.sql
-- OR run this complete script which includes everything

-- ============================================
-- PART 1: Add Majors (if not already added)
-- ============================================

-- Insert comprehensive majors (only if they don't exist)
INSERT INTO Majors (Name, Description) 
SELECT * FROM (
    SELECT 'الهندسة المدنية' AS Name, 'تخصص الهندسة المدنية يشمل تصميم وبناء البنى التحتية مثل الجسور والطرق والمباني' AS Description
    UNION SELECT 'الهندسة المعمارية', 'تخصص الهندسة المعمارية يهتم بتصميم المباني والتخطيط العمراني'
    UNION SELECT 'الهندسة الميكانيكية', 'تخصص الهندسة الميكانيكية يهتم بتصميم وتطوير الآلات والأنظمة الميكانيكية'
    UNION SELECT 'الهندسة الكهربائية', 'تخصص الهندسة الكهربائية يهتم بدراسة وتطبيق الكهرباء والإلكترونيات'
    UNION SELECT 'الهندسة الصناعية', 'تخصص الهندسة الصناعية يهتم بتحسين الأنظمة والعمليات الصناعية'
    UNION SELECT 'هندسة الحاسب الآلي', 'تخصص هندسة الحاسب الآلي يهتم بتصميم وبرمجة أنظمة الحاسب'
    UNION SELECT 'هندسة البرمجيات', 'تخصص هندسة البرمجيات يهتم بتطوير البرمجيات والتطبيقات'
    UNION SELECT 'الهندسة الكيميائية', 'تخصص الهندسة الكيميائية يهتم بتحويل المواد الخام إلى منتجات مفيدة'
    UNION SELECT 'الهندسة النووية', 'تخصص الهندسة النووية يهتم بتطبيقات الطاقة النووية'
    UNION SELECT 'هندسة البترول', 'تخصص هندسة البترول يهتم باستكشاف وإنتاج النفط والغاز'
    UNION SELECT 'الهندسة البيئية', 'تخصص الهندسة البيئية يهتم بحماية البيئة وإدارة الموارد'
    UNION SELECT 'الهندسة الزراعية', 'تخصص الهندسة الزراعية يهتم بتطبيق التقنيات في الزراعة'
    UNION SELECT 'الهندسة الطبية الحيوية', 'تخصص الهندسة الطبية الحيوية يهتم بتطبيق الهندسة في الطب'
    UNION SELECT 'الطب والجراحة', 'تخصص الطب والجراحة يهتم بعلاج الأمراض والوقاية منها'
    UNION SELECT 'طب الأسنان', 'تخصص طب الأسنان يهتم بعلاج أمراض الفم والأسنان'
    UNION SELECT 'الصيدلة', 'تخصص الصيدلة يهتم بدراسة الأدوية وتحضيرها'
    UNION SELECT 'التمريض', 'تخصص التمريض يهتم برعاية المرضى ومساعدتهم'
    UNION SELECT 'الطب البيطري', 'تخصص الطب البيطري يهتم بعلاج الحيوانات'
    UNION SELECT 'العلوم الطبية التطبيقية', 'تخصص العلوم الطبية التطبيقية يشمل المختبرات الطبية والتقنيات الطبية'
    UNION SELECT 'العلاج الطبيعي', 'تخصص العلاج الطبيعي يهتم بمساعدة المرضى على استعادة حركتهم'
    UNION SELECT 'العلاج الوظيفي', 'تخصص العلاج الوظيفي يهتم بمساعدة الأشخاص على أداء أنشطتهم اليومية'
    UNION SELECT 'الرياضيات', 'تخصص الرياضيات يهتم بدراسة الأرقام والهندسة والتحليل'
    UNION SELECT 'الفيزياء', 'تخصص الفيزياء يهتم بدراسة المادة والطاقة'
    UNION SELECT 'الكيمياء', 'تخصص الكيمياء يهتم بدراسة المادة وتفاعلاتها'
    UNION SELECT 'الأحياء', 'تخصص الأحياء يهتم بدراسة الكائنات الحية'
    UNION SELECT 'الكيمياء الحيوية', 'تخصص الكيمياء الحيوية يهتم بدراسة العمليات الكيميائية في الكائنات الحية'
    UNION SELECT 'الفيزياء الطبية', 'تخصص الفيزياء الطبية يهتم بتطبيق الفيزياء في الطب'
    UNION SELECT 'الرياضيات التطبيقية', 'تخصص الرياضيات التطبيقية يهتم بتطبيق الرياضيات في مجالات مختلفة'
    UNION SELECT 'الإحصاء', 'تخصص الإحصاء يهتم بجمع وتحليل البيانات'
    UNION SELECT 'علوم الحاسب الآلي', 'تخصص علوم الحاسب الآلي يهتم بدراسة الحاسب والبرمجة'
    UNION SELECT 'تقنية المعلومات', 'تخصص تقنية المعلومات يهتم بإدارة وتطوير أنظمة المعلومات'
    UNION SELECT 'أمن المعلومات', 'تخصص أمن المعلومات يهتم بحماية البيانات والأنظمة'
    UNION SELECT 'الذكاء الاصطناعي', 'تخصص الذكاء الاصطناعي يهتم بإنشاء أنظمة ذكية'
    UNION SELECT 'علوم البيانات', 'تخصص علوم البيانات يهتم بتحليل البيانات الضخمة'
    UNION SELECT 'الشبكات والحاسب', 'تخصص الشبكات والحاسب يهتم بإدارة الشبكات وأنظمة الاتصالات'
    UNION SELECT 'إدارة الأعمال', 'تخصص إدارة الأعمال يهتم بإدارة المنظمات والمشاريع'
    UNION SELECT 'المحاسبة', 'تخصص المحاسبة يهتم بتسجيل وتحليل المعاملات المالية'
    UNION SELECT 'التسويق', 'تخصص التسويق يهتم بترويج المنتجات والخدمات'
    UNION SELECT 'التمويل', 'تخصص التمويل يهتم بإدارة الأموال والاستثمارات'
    UNION SELECT 'إدارة الموارد البشرية', 'تخصص إدارة الموارد البشرية يهتم بإدارة الموظفين'
    UNION SELECT 'نظم المعلومات الإدارية', 'تخصص نظم المعلومات الإدارية يهتم بتطوير أنظمة المعلومات للمنظمات'
    UNION SELECT 'إدارة المشاريع', 'تخصص إدارة المشاريع يهتم بتخطيط وتنفيذ المشاريع'
    UNION SELECT 'الشريعة', 'تخصص الشريعة يهتم بدراسة أحكام الإسلام والقرآن والسنة'
    UNION SELECT 'أصول الدين', 'تخصص أصول الدين يهتم بدراسة العقيدة والفقه'
    UNION SELECT 'القرآن الكريم وعلومه', 'تخصص القرآن الكريم يهتم بدراسة القرآن وتفسيره'
    UNION SELECT 'الحديث النبوي', 'تخصص الحديث النبوي يهتم بدراسة أحاديث النبي صلى الله عليه وسلم'
    UNION SELECT 'اللغة العربية', 'تخصص اللغة العربية يهتم بدراسة الأدب والنحو والبلاغة'
    UNION SELECT 'اللغة الإنجليزية', 'تخصص اللغة الإنجليزية يهتم بدراسة الأدب الإنجليزي والترجمة'
    UNION SELECT 'التاريخ', 'تخصص التاريخ يهتم بدراسة الأحداث الماضية'
    UNION SELECT 'الجغرافيا', 'تخصص الجغرافيا يهتم بدراسة الأرض والظواهر الطبيعية'
    UNION SELECT 'علم النفس', 'تخصص علم النفس يهتم بدراسة السلوك والعقل البشري'
    UNION SELECT 'علم الاجتماع', 'تخصص علم الاجتماع يهتم بدراسة المجتمعات والعلاقات الاجتماعية'
    UNION SELECT 'التربية', 'تخصص التربية يهتم بطرق وأساليب التعليم'
    UNION SELECT 'التربية الخاصة', 'تخصص التربية الخاصة يهتم بتعليم ذوي الاحتياجات الخاصة'
    UNION SELECT 'الطفولة المبكرة', 'تخصص الطفولة المبكرة يهتم بتربية وتعليم الأطفال الصغار'
    UNION SELECT 'تعليم الرياضيات', 'تخصص تعليم الرياضيات يهتم بتدريس الرياضيات'
    UNION SELECT 'تعليم العلوم', 'تخصص تعليم العلوم يهتم بتدريس العلوم الطبيعية'
    UNION SELECT 'تعليم اللغة العربية', 'تخصص تعليم اللغة العربية يهتم بتدريس اللغة العربية'
    UNION SELECT 'تعليم اللغة الإنجليزية', 'تخصص تعليم اللغة الإنجليزية يهتم بتدريس اللغة الإنجليزية'
    UNION SELECT 'الإعلام', 'تخصص الإعلام يهتم بالصحافة والإذاعة والتلفزيون'
    UNION SELECT 'العلاقات العامة', 'تخصص العلاقات العامة يهتم بإدارة العلاقات مع الجمهور'
    UNION SELECT 'الإذاعة والتلفزيون', 'تخصص الإذاعة والتلفزيون يهتم بإنتاج البرامج الإعلامية'
    UNION SELECT 'القانون', 'تخصص القانون يهتم بدراسة القوانين وتطبيقها'
    UNION SELECT 'التربية الفنية', 'تخصص التربية الفنية يهتم بتعليم الفنون'
    UNION SELECT 'التصميم الجرافيكي', 'تخصص التصميم الجرافيكي يهتم بإنشاء التصاميم البصرية'
    UNION SELECT 'التصميم الداخلي', 'تخصص التصميم الداخلي يهتم بتصميم المساحات الداخلية'
    UNION SELECT 'الزراعة', 'تخصص الزراعة يهتم بدراسة المحاصيل والثروة الحيوانية'
    UNION SELECT 'التربية البدنية', 'تخصص التربية البدنية يهتم بالرياضة واللياقة البدنية'
    UNION SELECT 'التغذية', 'تخصص التغذية يهتم بدراسة الغذاء وصحة الإنسان'
    UNION SELECT 'الإدارة الصحية', 'تخصص الإدارة الصحية يهتم بإدارة المؤسسات الصحية'
) AS tmp
WHERE NOT EXISTS (
    SELECT 1 FROM Majors m WHERE m.Name = tmp.Name
);

-- ============================================
-- PART 2: Link Universities to Majors
-- ============================================

-- Link all universities to all majors
INSERT INTO UniversityMajors (UniversityID, MajorID)
SELECT u.UniversityID, m.MajorID
FROM Universities u
CROSS JOIN Majors m
WHERE NOT EXISTS (
    SELECT 1 FROM UniversityMajors um 
    WHERE um.UniversityID = u.UniversityID AND um.MajorID = m.MajorID
);

