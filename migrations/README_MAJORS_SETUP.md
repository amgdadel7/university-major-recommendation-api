# إعداد التخصصات والجامعات - Majors & Universities Setup

## نظرة عامة
هذا الدليل يوضح كيفية إعداد التخصصات وربطها بالجامعات.

## الملفات المطلوبة

### 1. إضافة التخصصات
قم بتشغيل ملف script لإضافة جميع التخصصات:

```sql
-- ملف: scripts/add_majors.sql
```

هذا الملف يضيف **70+ تخصص** شامل في جميع المجالات:
- الهندسة (14 تخصص)
- الطب والعلوم الطبية (8 تخصصات)
- العلوم (8 تخصصات)
- علوم الحاسب (6 تخصصات)
- إدارة الأعمال (7 تخصصات)
- الدراسات الإسلامية (4 تخصصات)
- العلوم الإنسانية والاجتماعية (9 تخصصات)
- التعليم (4 تخصصات)
- الإعلام والاتصال (3 تخصصات)
- القانون (1 تخصص)
- الفنون والتصميم (3 تخصصات)
- الزراعة (1 تخصص)
- أخرى (3 تخصصات)

### 2. ربط الجامعات بالتخصصات
بعد إضافة التخصصات، قم بربط الجامعات بها:

```sql
-- ملف: scripts/link_universities_to_majors.sql
```

هذا الملف يربط جميع الجامعات بجميع التخصصات المناسبة.

### 3. الإعداد الكامل (خيار بديل)
يمكنك استخدام ملف واحد شامل يجمع كل شيء:

```sql
-- ملف: scripts/complete_universities_setup.sql
```

هذا الملف يقوم بـ:
- إضافة التخصصات (إذا لم تكن موجودة)
- ربط جميع الجامعات بجميع التخصصات

## طريقة التشغيل

### الخيار 1: خطوات منفصلة (موصى به)
```bash
# 1. إضافة التخصصات
mysql -u root -p university_db < scripts/add_majors.sql

# 2. ربط الجامعات بالتخصصات
mysql -u root -p university_db < scripts/link_universities_to_majors.sql
```

### الخيار 2: ملف واحد شامل
```bash
mysql -u root -p university_db < scripts/complete_universities_setup.sql
```

### باستخدام phpMyAdmin:
1. افتح ملف `scripts/add_majors.sql`
2. انسخ المحتوى والصقه في SQL tab
3. اضغط Run
4. كرر نفس الخطوات مع `scripts/link_universities_to_majors.sql`

## التحقق من النجاح

### 1. التحقق من التخصصات
```sql
-- عدد التخصصات
SELECT COUNT(*) FROM Majors;

-- عرض جميع التخصصات
SELECT * FROM Majors ORDER BY Name;
```

### 2. التحقق من الربط
```sql
-- عدد الروابط
SELECT COUNT(*) FROM UniversityMajors;

-- عدد التخصصات لكل جامعة
SELECT u.Name AS University, COUNT(um.MajorID) AS MajorsCount
FROM Universities u
LEFT JOIN UniversityMajors um ON u.UniversityID = um.UniversityID
GROUP BY u.UniversityID, u.Name
ORDER BY MajorsCount DESC;

-- التخصصات لجامعة محددة
SELECT m.Name AS Major
FROM Majors m
JOIN UniversityMajors um ON m.MajorID = um.MajorID
JOIN Universities u ON um.UniversityID = u.UniversityID
WHERE u.UniversityID = 1  -- استبدل برقم الجامعة
ORDER BY m.Name;
```

### 3. التحقق في الواجهة
- افتح صفحة إدارة الجامعات
- افتح أي جامعة وانقر على "التخصصات"
- تحقق من عرض جميع التخصصات

## التخصصات المتاحة

### الهندسة (14)
- الهندسة المدنية
- الهندسة المعمارية
- الهندسة الميكانيكية
- الهندسة الكهربائية
- الهندسة الصناعية
- هندسة الحاسب الآلي
- هندسة البرمجيات
- الهندسة الكيميائية
- الهندسة النووية
- هندسة البترول
- الهندسة البيئية
- الهندسة الزراعية
- الهندسة الطبية الحيوية

### الطب والعلوم الطبية (8)
- الطب والجراحة
- طب الأسنان
- الصيدلة
- التمريض
- الطب البيطري
- العلوم الطبية التطبيقية
- العلاج الطبيعي
- العلاج الوظيفي

### العلوم (8)
- الرياضيات
- الفيزياء
- الكيمياء
- الأحياء
- الكيمياء الحيوية
- الفيزياء الطبية
- الرياضيات التطبيقية
- الإحصاء

### علوم الحاسب (6)
- علوم الحاسب الآلي
- تقنية المعلومات
- أمن المعلومات
- الذكاء الاصطناعي
- علوم البيانات
- الشبكات والحاسب

### إدارة الأعمال (7)
- إدارة الأعمال
- المحاسبة
- التسويق
- التمويل
- إدارة الموارد البشرية
- نظم المعلومات الإدارية
- إدارة المشاريع

### الدراسات الإسلامية (4)
- الشريعة
- أصول الدين
- القرآن الكريم وعلومه
- الحديث النبوي

### العلوم الإنسانية والاجتماعية (9)
- اللغة العربية
- اللغة الإنجليزية
- التاريخ
- الجغرافيا
- علم النفس
- علم الاجتماع
- التربية
- التربية الخاصة
- الطفولة المبكرة

### التعليم (4)
- تعليم الرياضيات
- تعليم العلوم
- تعليم اللغة العربية
- تعليم اللغة الإنجليزية

### الإعلام والاتصال (3)
- الإعلام
- العلاقات العامة
- الإذاعة والتلفزيون

### أخرى
- القانون
- التربية الفنية
- التصميم الجرافيكي
- التصميم الداخلي
- الزراعة
- التربية البدنية
- التغذية
- الإدارة الصحية

## ملاحظات مهمة

1. **تجنب التكرار**: الملفات تستخدم `NOT EXISTS` لتجنب إضافة بيانات مكررة
2. **الربط الشامل**: تم ربط جميع الجامعات بجميع التخصصات المناسبة
3. **التخصيص**: يمكنك تعديل ملف `link_universities_to_majors.sql` لربط تخصصات محددة بجامعات محددة

## استكشاف الأخطاء

### خطأ: Duplicate entry
إذا ظهر خطأ duplicate entry، هذا يعني أن التخصص موجود بالفعل. يمكنك:
- تجاهل الخطأ
- أو استخدام `INSERT IGNORE` بدلاً من `INSERT`

### خطأ: Foreign key constraint
إذا ظهر خطأ foreign key، تأكد من:
- وجود الجامعات في جدول `Universities`
- وجود التخصصات في جدول `Majors`

### لا تظهر التخصصات في الواجهة
تحقق من:
1. تشغيل script الربط
2. التحقق من جدول `UniversityMajors`
3. التحقق من API endpoint `/universities/:id/majors`

